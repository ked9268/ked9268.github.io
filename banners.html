<!DOCTYPE html>
<html>

<!--
	

	All options in item class
		-->
	<head>
		<script src="functions.js"></script>
		<link rel="stylesheet" href="base.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="UTF-8">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<title>banners</title>
		<style>
			#form {
					position:absolute;
					top:300px;
					left:300px;
		
			}
			table, th, td {
  					border: 1px solid black;
  					border-collapse: collapse;
			}
            #returnList {
            
				position:relative;
			}
          
		</style>
	</head>
	<body>
		<div id="move">
			<img src="black_circle_green_bg.png" id="logo">
			<div id="dropdown">
				<a id="wonder">wonder.tv</a>
				<div class="content">
					<li class="navbar"><a href="Computerindex.html" ontouchend="index.html">home</a></li>
					<li class="navbar"><a href="contact.html" ontouchend="contact.html">contact</a></li>
					<li class="navbar"><a>donation</a></li>
					<li class="navbar"><a href="games.html">games</a></li>
					<li class="navbar"><a href="pictures.html">pictures</a></li>
					<li class="navbar"><a href="videos.html">videos</a></li>
					<li class="navbar"><a>sounds</a></li>
					<li class="navbar"><a href="gifs.html">gifs</a></li>
					<li class="navbar"><a href="banners.html">banners</a></li>
				</div>
			</div>
		</div>

		<table id="table"></table>
		<input type="file" id="upload" onchange="readFile()">
		<div id="returnList">

			<select id="where">
				<!-- return all options-->
				<option value="RLBag" id="RLBagID"> Ralph Lauren Bag</option>
				<option value="MBag" id="MBagID"> Maroon Bag</option>
				<option value="GBag" id="GBagID"> Green Bag</option>
				<option value="ABag" id="ABagID">Armani Bag</option>
				<option value="BSuitcase" id="BSuitcaseID">BlackSuitcase</option>
				<option value="GSuitcase" id="GSuitcaseID">GreySuitcase</option>
				<option value="UABag" id="UABagID">Under Armour Bag</option>
				<option value="C1Bag" id="C1BagID">ClearBox 1</option>
				<option value="C2Bag" id="C2BagID">ClearBox 2</option>
				<option value="C3Bag" id="C3BagID">ClearBox 3</option>
				<option value="C4Bag" id="C4BagID">ClearBox 4</option>
				<option value="C5Bag" id="C5BagID">ClearBox 5</option>
				<option value="C6Bag" id="C6BagID">ClearBox 6</option>
				<option value="C7Bag" id="C7BagID">ClearBox 7</option>
				<option value="C8Bag" id="C8BagID">ClearBox 8</option>
				<option value="C9Bag" id="C9BagID">ClearBox 9</option>
				<option value="C10Bag" id="C10BagID">ClearBox 10</option>
				

			</select>
			<button type="button" onclick="getValue()" id="getValue">Get Value</button>
			<button type="button" id="save" onclick="returnAllLocationItems()">Return All Options</button>
		</div>


		<!-- <form id="form">
		<input type="text" name="item" id="item"><br>
		<label>Item</label><br>
		<input type="text" name="quantity" id="quantity"><br>
		<label>Quantity</label><br>
		<input type="text" name="colour" id="colour"><br>
		<label>Colour</label><br>
		<input type="text" name="notes" id="notes"><br>
		<label>Notes</label><br>
		<input type="button" value="Submit" onclick="getFormData()">
	</form>
		-->
		<script>
			/*
			 * <input type="file" opens a pop up and takes a csv file which will show the excel spreadsheet
			 * in a table
			 *
			 * */
			var value;
			var edit;
			var processing;
			var placeholder;
			var length;
			var keys;
			var returnArray = "";
			const values_of_item = [];
			function getContentOfData() {
				return "";
			}
			function produceTable() {
				formTable();
			}
			function getFormData() {
				//getContentOfTable();
				var item = document.getElementById("item").value;
				document.getElementById("item").value = "";
				var quantity = document.getElementById("quantity").value;
				document.getElementById("quantity").value = "";
				var colour = document.getElementById("colour").value;
				document.getElementById("colour").value = "";
				var notes = document.getElementById("notes").value;
				document.getElementById("notes").value = "";
				insert(item, quantity, colour, notes);
				//produceTable();
			}
			function header() {

				/*
				 *creates the header for the table.
				 * */
				var header = '<ol><li><tr>' + '<th>' + "Item" + '</th>' + '<th>' + "Quantity" + '</th>'
					+ '<th>' + "Colour" + '</th>' + '<th>' + "Notes" + '</th>' + '</tr></ol></li> ';
				return header;
			}
			function start() {
				/*
				 starts the insertion of the data into the html document
				 */
				return '<ol><li>';
			}
			function end() {
				/*
				 ends the insertion of the data into the html document

				 */
				return '</ol></<li> ';
			}
			function openNewRow(value) {
				/*
				 starts a new row within the inerting of the data into the document.

				 */

				return '<tr>';
			}
			function closeNewRow(value) {
				/*
				 * closes a new row within the inserting of the data into the document.
				 */
				return '</tr>'
			}
			function newValue(value) {
				return '<th>' + value + '</th>';
			}
			function insert(value, value1, value2, value3) {
				var add = '<th>' + value + '</th>' + '<th>' + value1 + '</th>'
					+ '<th>' + value2 + '</th>' + '<th>' + value3 + '</th>' + '</tr></ol></li> ';
				var returnKey = "";
				returnKey = returnArray.substring(0, returnArray.length - 11) + add;
				returnArray = returnKey;
				var key = document.getElementById("table").innerHTML = returnKey;
				console.log(key);
			}
			function load() {
			}
			function formTable() {
				//Get together all the parts
				document.getElementById("table").innerHTML = header();
			}
			function getValue() {
				//console.log(document.getElementById("where").value);

				searchList();

			}
			function returnAllLocationItems() {
				let retArray = [];
				console.log(values_of_items);
				console.log(values_of_items.length);
				for (let i = 0; i < values_of_items.length; i++) {
					retArray.push(typeof values_of_items[i]);
				}
				console.log(retArray);
			}
			function searchList() {
				for (let i = 0; i < length; i++) {

					switch (values_of_items[i]) {
						case "BlackSuitcase":
							console.log("BlackSuitcase");
						default:

					}
				}

			}
			function readFile() {
				const file = document.getElementById('upload').files[0];
				console.log(file)
				const reader = new FileReader();
				reader.readAsText(file);
				reader.onload = function () {
					edit = reader.result;
					value = removeWhiteSpace(edit);
					length = value.length;
					console.log(value);
					console.log(value.length);
					setTable(process(value)); // Begins the converting of the csv file into a graphic table.
				}
			}
			function removeWhiteSpace(value) {

				/*
				 removing white space from raw csv file. Sets document up for auxillary functions to process.
				 */
				var processing = value.replace(/\s/g, "");
				return processing;
			}
			function process(value) {
				/*
				 removes commas from csv file after removeWhiteSpace(value) removes the white space.
				 converts csv values into an array and then sets value of first non null attribute in global variable keys.
				 To be used in setTable(value) to starts the table processing.
				 returns an array of all values including null ones.
				 */
				document.getElementById("table").innerHTML = "";
				values_of_items = value.split(",");
				console.log(values_of_items);
				//Marking where the first string is!
				if (values_of_items.includes("Item") === true) {
					for (let i = 0; i < values_of_items.length; i++) {
						if (values_of_items[i] === "Item") {
							keys = i;
							break;
						}
					}
				}
				return values_of_items;
			}
			function printF(value) {
				console.log('this');
			}
			function fetchValueNumber() {
				for (let i = keys; i < value.length; i++) {
					if (values_of_items[i] === "BlackSuitcase") {
						values_of_items[i] = "BLACKSUITCASE"
					}
				}

				updateTable(values_of_items);
			}

			function setTable(value) {
				var newRow = "";
				returnArray = "";
				returnArray = returnArray + start();
				for (let i = keys; i < value.length; i++) {
					if (i % 7 === 0) {
						returnArray = returnArray + newValue(value[i]) + openNewRow() + closeNewRow();
					}
					else {
						if (i % 7 !== 0) {
							returnArray = returnArray + newValue(value[i]);
							//if ( i % 7 === 6) {
							//returnArray = returnArray + '<th><button>+</button></th><br>';
							//}
						}
					}
				}
				//returnArray = returnArray + openNewRow() + closeNewRow() + newValue('six') + newValue('<img src="images/183_greenCup/IMG_3854.JPG">');
				returnArray = returnArray + end();
				document.getElementById("table").innerHTML = returnArray;
				console.log(returnArray);

			}
		</script>
	</body>
</html>